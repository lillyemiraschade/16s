# Round 11: Production Readiness

## P0 — CRITICAL BUG + CI/CD
- [x] 0. FIX: Messages go blank during generation (streaming regression from R10)
- [x] 1. GitHub Actions CI workflow
- [x] 2. npm run check script
- [x] 3. Vercel build verification (Vercel runs npm run build by default — CI covers type check + tests)

## P1 — E2E Tests
- [ ] 4. Playwright setup + config
- [ ] 5. Critical path E2E tests (5 tests)
- [ ] 6. Add Playwright to CI

## P2 — Iframe Security
- [ ] 7. Fix sandbox (drop allow-same-origin, fix postMessage)
- [ ] 8. Inject CSP into preview HTML

## P3 — Error Monitoring
- [ ] 9. Error reporting utility + wiring
- [ ] 10. Global unhandled error handler

## P4 — Deferred Items
- [ ] 11. Autosave indicator
- [ ] 12. Deploy flow improvements (URL display, copy, open)
- [ ] 14. Stripe webhook tests

## P5 — Final Verification
- [ ] 15. Full smoke test
- [ ] 16. README update

## Log
- R11-1: Fixed blank streaming messages. extractStreamingMessage used hardcoded '"message":"' (no space) but Claude outputs '"message": "' (with space). Changed to regex /"message"\s*:\s*"/ to handle whitespace. Same fix for "html" phase detection.
- R11-2: Added GitHub Actions CI (.github/workflows/ci.yml) + npm run check script. CI runs type check, build, and tests on push/PR to main.
